# 요구사항 정의서

## 프로젝트명
카페24 스태프 리뷰 앱 (Cafe24 Staff Review App)

## 목표
카페24 쇼핑몰 운영자가 상품별로 스태프 리뷰를 작성·관리하고,
쇼핑몰 상품 상세 페이지에 위젯으로 노출하는 시스템 구축

## 사용자 정의

| 사용자 | 설명 | 접근 영역 |
|--------|------|-----------|
| 관리자 (스태프) | 쇼핑몰 운영팀, MD, 스타일리스트 | 관리자 대시보드 |
| 쇼핑몰 고객 | 상품 상세 페이지 방문자 | 위젯 (읽기 전용) |

## 기능 요구사항

### FR-01: 리뷰 작성
- 상품 ID, 상품명, 작성자명, 별점(1~5), 제목, 내용 입력
- 상품 ID는 카페24 상품번호와 일치
- 별점은 클릭으로 선택 (필수)

### FR-02: 이미지 첨부
- 리뷰당 최대 5장
- 지원 포맷: JPG, PNG, WEBP, GIF
- 최대 파일 크기: 10MB/장
- 썸네일 생성 (선택사항)

### FR-03: 리뷰 관리
- 목록 조회 (페이징, 상품별 필터)
- 수정 / 삭제
- 노출/숨김 토글
- 표시 순서 변경 (선택사항)

### FR-04: 위젯 노출
- 카페24 상품 상세 페이지에 JS 위젯으로 삽입
- 해당 상품의 노출 상태 리뷰만 표시
- 평균 별점, 리뷰 수 표시
- 이미지 클릭 시 라이트박스
- 페이지네이션 (5개씩)
- STAFF PICK 뱃지로 스태프 리뷰 구분

### FR-05: 대시보드 통계
- 전체 리뷰 수
- 노출 중 리뷰 수
- 평균 별점
- 등록 상품 수

## 비기능 요구사항

### NFR-01: 성능
- 위젯 API 응답: < 200ms
- 관리자 페이지 로딩: < 1초

### NFR-02: 보안
- 관리자 인증 (Basic Auth 또는 JWT, MVP에서는 선택사항)
- CORS 설정 (운영 시 카페24 도메인만 허용)
- SQL injection 방지 (파라미터 바인딩)
- 이미지 파일 타입 검증

### NFR-03: 호환성
- 카페24 스마트디자인 호환
- PC/모바일 반응형 위젯
- 위젯이 쇼핑몰 기존 CSS와 충돌하지 않을 것

### NFR-04: 배포
- Railway 자동 배포 (GitHub push → 자동 빌드)
- HTTPS 필수

## 기술적 제약
- 카페24는 PHP 기반이라 Python 직접 실행 불가 → 외부 서버 필요
- 카페24 치환코드 `{$product_no}`로 상품번호 전달
- 카페24 스마트디자인 편집기에서 HTML 코드 삽입 가능
